<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>마이크 테스트</title>
  <link rel="stylesheet" href="style.css"/>
  <script type="module" src="service.js"></script>
</head>
<body>
<div id="container">
  <section>
    <div class="button-wrapper flex-end">
      <button class="cylinder-button" onclick="location.href='../../home.html'">홈으로</button>
      <button id="close-window" class="cylinder-button">닫기</button>
    </div>
    <div class="vertical-kanban flex-center flex-direction-column">
      <h2 class="narration">발음평가 AI 서버와 연결 상태를 확인합니다.<br/>마이크 버튼을 누른 후 아래의 문장을 읽어 보세요.</h2>
      <div>
        <img src="../../../assets/mic-test.png"/>
      </div>
      <div class="w100">
        <div id="record-wait-wrapper" class="vertical-kanban flex-center flex-direction-column">
          <div class="cylinder-button emphasize-box flex-center flex-direction-column w80">
            <h1 class="narration script"></h1>
          </div>
          <button id="record-start" class="round-button audio-large-button record-button"></button>
          <h4 class="narration">마이크를 누른 후 말해보세요.</h4>
        </div>
        <div id="recording-wrapper" class="vertical-kanban flex-center flex-direction-column disp-none">
          <div class="cylinder-button emphasize-box flex-center flex-direction-column w80">
            <h1 class="narration script"></h1>
          </div>
          <button id="record-stop" class="round-button audio-large-button stop-button"></button>
          <div id="recording-seconds" class="narration">00:00</div>
          <h4 class="narration">녹음 중입니다. 완료 시 정지 버튼을 누르세요.<br/>정지 버튼을 누르면 자동으로 AI 서버와 연결을 시도합니다.</h4>
        </div>
        <div id="result-error-wrapper" class="disp-none">
          <h1 class="narration">AI 서버가 음성을 인식하지 못했습니다.<br/>마이크 연결상태를 확인 후 다시 시도해주세요.</h1>
        </div>
        <div id="result-wrapper" class="disp-none">
          <h1 class="narration">AI 서버와 정상적으로 연결되었습니다.</h1>
        </div>
      </div>
      <div>
        <div id="pass-test-button-wrapper" class="vertical-kanban flex-center flex-direction-column">
          <button id="pass-test" class="cylinder-button">마이크 테스트 건너뛰기</button>
          <div>
            <input type="checkbox" id="pass-test-always"/>
            <label for="pass-test-always" class="narration">다음에도 계속 건너뛰기 선택</label>
          </div>
        </div>
        <button id="retry" class="cylinder-button disp-none">다시 하기</button>
        <button id="done" class="cylinder-button disp-none">확인</button>
      </div>
    </div>
  </section>
</div>
</body>
</html>
